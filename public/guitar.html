<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blues & Jazz Guitar Learning Tool</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .fret-marker {
            background: radial-gradient(circle, #e5e7eb 0%, #d1d5db 100%);
        }
        .active-note {
            animation: pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .chord-diagram {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 2px;
        }
        .scale-pattern {
            background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
        }
        .root-note {
            background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
        }
    </style>
</head>
<body class="bg-gray-900 text-white min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-7xl">
        <!-- Header -->
        <header class="text-center mb-10">
            <h1 class="text-5xl font-bold mb-3 bg-gradient-to-r from-blue-400 to-purple-600 bg-clip-text text-transparent">
                Blues & Jazz Guitar Master
            </h1>
            <p class="text-gray-400 text-lg">Interactive Chords, Scales, and Practice Exercises</p>
        </header>

        <!-- Navigation Tabs -->
        <div class="flex justify-center mb-8">
            <div class="bg-gray-800 rounded-lg p-1 flex gap-1">
                <button onclick="showTab('chords')" id="chordsTab" class="tab-btn px-6 py-3 rounded-md bg-blue-600 text-white font-medium transition-all">
                    Chords
                </button>
                <button onclick="showTab('scales')" id="scalesTab" class="tab-btn px-6 py-3 rounded-md text-gray-400 hover:text-white font-medium transition-all">
                    Scales
                </button>
                <button onclick="showTab('exercises')" id="exercisesTab" class="tab-btn px-6 py-3 rounded-md text-gray-400 hover:text-white font-medium transition-all">
                    Exercises & Licks
                </button>
            </div>
        </div>

        <!-- Chords Section -->
        <div id="chordsSection" class="tab-content">
            <div class="bg-gray-800 rounded-xl p-6 mb-6">
                <h2 class="text-2xl font-bold mb-4">Essential Jazz & Blues Chords</h2>
                
                <!-- Chord Type Selector -->
                <div class="flex flex-wrap gap-2 mb-6">
                    <button onclick="showChordType('dominant7')" class="chord-type-btn px-4 py-2 bg-blue-600 rounded-lg">Dom7</button>
                    <button onclick="showChordType('major7')" class="chord-type-btn px-4 py-2 bg-gray-700 rounded-lg hover:bg-gray-600">Maj7</button>
                    <button onclick="showChordType('minor7')" class="chord-type-btn px-4 py-2 bg-gray-700 rounded-lg hover:bg-gray-600">Min7</button>
                    <button onclick="showChordType('dim7')" class="chord-type-btn px-4 py-2 bg-gray-700 rounded-lg hover:bg-gray-600">Dim7</button>
                    <button onclick="showChordType('blues')" class="chord-type-btn px-4 py-2 bg-gray-700 rounded-lg hover:bg-gray-600">Blues</button>
                </div>

                <!-- Root Note Selector -->
                <div class="mb-6">
                    <label class="block text-sm font-medium mb-2">Root Note:</label>
                    <select id="rootNote" onchange="updateChord()" class="bg-gray-700 px-4 py-2 rounded-lg">
                        <option value="C">C</option>
                        <option value="G">G</option>
                        <option value="D">D</option>
                        <option value="A">A</option>
                        <option value="E">E</option>
                        <option value="B">B</option>
                        <option value="F">F</option>
                    </select>
                </div>

                <!-- Guitar Neck Display -->
                <div class="bg-gray-900 rounded-lg p-4">
                    <div id="chordDiagram" class="relative">
                        <!-- Will be populated by JavaScript -->
                    </div>
                    <div class="mt-4 text-center">
                        <span id="chordName" class="text-xl font-bold">C7</span>
                        <p id="chordFormula" class="text-gray-400 mt-1">1 - 3 - 5 - ♭7</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Scales Section -->
        <div id="scalesSection" class="tab-content hidden">
            <div class="bg-gray-800 rounded-xl p-6 mb-6">
                <h2 class="text-2xl font-bold mb-4">Blues & Jazz Scales</h2>
                
                <!-- Scale Selector -->
                <div class="flex flex-wrap gap-2 mb-6">
                    <button onclick="showScale('bluesPentatonic')" class="scale-btn px-4 py-2 bg-blue-600 rounded-lg">Blues Pentatonic</button>
                    <button onclick="showScale('minorPentatonic')" class="scale-btn px-4 py-2 bg-gray-700 rounded-lg hover:bg-gray-600">Minor Pentatonic</button>
                    <button onclick="showScale('majorPentatonic')" class="scale-btn px-4 py-2 bg-gray-700 rounded-lg hover:bg-gray-600">Major Pentatonic</button>
                    <button onclick="showScale('dorian')" class="scale-btn px-4 py-2 bg-gray-700 rounded-lg hover:bg-gray-600">Dorian</button>
                    <button onclick="showScale('mixolydian')" class="scale-btn px-4 py-2 bg-gray-700 rounded-lg hover:bg-gray-600">Mixolydian</button>
                    <button onclick="showScale('bebop')" class="scale-btn px-4 py-2 bg-gray-700 rounded-lg hover:bg-gray-600">Bebop</button>
                </div>

                <!-- Scale Pattern Display -->
                <div class="bg-gray-900 rounded-lg p-4">
                    <div id="scalePattern" class="mb-4">
                        <!-- Will be populated by JavaScript -->
                    </div>
                    <div class="text-center">
                        <span id="scaleName" class="text-xl font-bold">Blues Pentatonic</span>
                        <p id="scaleFormula" class="text-gray-400 mt-1">1 - ♭3 - 4 - ♭5 - 5 - ♭7</p>
                    </div>
                </div>

                <!-- Position Selector -->
                <div class="mt-4">
                    <label class="block text-sm font-medium mb-2">Position:</label>
                    <div class="flex gap-2">
                        <button onclick="showPosition(1)" class="pos-btn px-3 py-1 bg-blue-600 rounded">1</button>
                        <button onclick="showPosition(2)" class="pos-btn px-3 py-1 bg-gray-700 rounded hover:bg-gray-600">2</button>
                        <button onclick="showPosition(3)" class="pos-btn px-3 py-1 bg-gray-700 rounded hover:bg-gray-600">3</button>
                        <button onclick="showPosition(4)" class="pos-btn px-3 py-1 bg-gray-700 rounded hover:bg-gray-600">4</button>
                        <button onclick="showPosition(5)" class="pos-btn px-3 py-1 bg-gray-700 rounded hover:bg-gray-600">5</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Exercises Section -->
        <div id="exercisesSection" class="tab-content hidden">
            <div class="bg-gray-800 rounded-xl p-6 mb-6">
                <h2 class="text-2xl font-bold mb-4">Practice Exercises & Licks</h2>
                
                <!-- Exercise Categories -->
                <div class="grid md:grid-cols-2 gap-6">
                    <!-- Blues Licks -->
                    <div class="bg-gray-900 rounded-lg p-4">
                        <h3 class="text-xl font-bold mb-3 text-blue-400">Blues Licks</h3>
                        <div class="space-y-4">
                            <div class="exercise-item">
                                <h4 class="font-semibold mb-2">BB King Box Lick</h4>
                                <div class="bg-gray-800 p-3 rounded font-mono text-sm">
                                    e|--8b10--8--5--------------<br>
                                    B|-------------8--5--8--5---<br>
                                    G|------------------------7-<br>
                                    D|--------------------------<br>
                                    A|--------------------------<br>
                                    E|--------------------------
                                </div>
                                <p class="text-xs text-gray-400 mt-2">Play with feeling, bend the 8th fret up a whole step</p>
                            </div>

                            <div class="exercise-item">
                                <h4 class="font-semibold mb-2">Classic Blues Turnaround</h4>
                                <div class="bg-gray-800 p-3 rounded font-mono text-sm">
                                    e|--3--3--2--2--1--1--0--0--<br>
                                    B|--0--0--0--0--0--0--0--0--<br>
                                    G|--0--0--0--0--0--0--0--0--<br>
                                    D|--0--0--0--0--0--0--0--0--<br>
                                    A|--2--2--2--2--2--2--2--2--<br>
                                    E|--3--3--2--2--1--1--0--0--
                                </div>
                                <p class="text-xs text-gray-400 mt-2">Perfect for ending a 12-bar blues</p>
                            </div>

                            <div class="exercise-item">
                                <h4 class="font-semibold mb-2">Albert King Bend Lick</h4>
                                <div class="bg-gray-800 p-3 rounded font-mono text-sm">
                                    e|------------------------<br>
                                    B|--15b17--15--13---------<br>
                                    G|----------------15--12--<br>
                                    D|-----------------------14<br>
                                    A|------------------------<br>
                                    E|------------------------
                                </div>
                                <p class="text-xs text-gray-400 mt-2">Aggressive bends with vibrato</p>
                            </div>
                        </div>
                    </div>

                    <!-- Jazz Licks -->
                    <div class="bg-gray-900 rounded-lg p-4">
                        <h3 class="text-xl font-bold mb-3 text-purple-400">Jazz Licks</h3>
                        <div class="space-y-4">
                            <div class="exercise-item">
                                <h4 class="font-semibold mb-2">ii-V-I Bebop Line</h4>
                                <div class="bg-gray-800 p-3 rounded font-mono text-sm">
                                    e|--7--5--3--5--7--8--7--5--<br>
                                    B|--8--6--5--6--8-----------<br>
                                    G|--------------------------<br>
                                    D|--------------------------<br>
                                    A|--------------------------<br>
                                    E|--------------------------
                                </div>
                                <p class="text-xs text-gray-400 mt-2">Classic bebop phrase over Dm7-G7-Cmaj7</p>
                            </div>

                            <div class="exercise-item">
                                <h4 class="font-semibold mb-2">Chromatic Approach</h4>
                                <div class="bg-gray-800 p-3 rounded font-mono text-sm">
                                    e|--8--7--6--7--8--10--11--12--<br>
                                    B|------------------------------<br>
                                    G|------------------------------<br>
                                    D|------------------------------<br>
                                    A|------------------------------<br>
                                    E|------------------------------
                                </div>
                                <p class="text-xs text-gray-400 mt-2">Use chromatic notes to approach chord tones</p>
                            </div>

                            <div class="exercise-item">
                                <h4 class="font-semibold mb-2">Octave Displacement</h4>
                                <div class="bg-gray-800 p-3 rounded font-mono text-sm">
                                    e|--12--8--15--10--17--12--<br>
                                    B|--------------------------<br>
                                    G|--------------------------<br>
                                    D|--------------------------<br>
                                    A|--------------------------<br>
                                    E|--------------------------
                                </div>
                                <p class="text-xs text-gray-400 mt-2">Jump octaves for intervallic interest</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Practice Tips -->
                <div class="mt-6 bg-gray-900 rounded-lg p-4">
                    <h3 class="text-xl font-bold mb-3 text-green-400">Practice Tips</h3>
                    <ul class="space-y-2 text-gray-300">
                        <li class="flex items-start">
                            <span class="text-green-400 mr-2">•</span>
                            <span>Start slow with a metronome at 60-80 BPM, focus on clean execution</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-green-400 mr-2">•</span>
                            <span>Practice licks in all 12 keys to develop fluency</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-green-400 mr-2">•</span>
                            <span>Record yourself playing over backing tracks to evaluate timing and feel</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-green-400 mr-2">•</span>
                            <span>Mix and match licks to create your own phrases</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-green-400 mr-2">•</span>
                            <span>Focus on the "blue notes" (♭3, ♭5, ♭7) for authentic blues sound</span>
                        </li>
                    </ul>
                </div>

                <!-- Chord Progressions to Practice -->
                <div class="mt-6 bg-gray-900 rounded-lg p-4">
                    <h3 class="text-xl font-bold mb-3 text-yellow-400">Essential Progressions</h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <h4 class="font-semibold mb-2">12-Bar Blues in A</h4>
                            <div class="bg-gray-800 p-3 rounded text-sm">
                                | A7 | A7 | A7 | A7 |<br>
                                | D7 | D7 | A7 | A7 |<br>
                                | E7 | D7 | A7 | E7 |
                            </div>
                        </div>
                        <div>
                            <h4 class="font-semibold mb-2">Jazz ii-V-I in C</h4>
                            <div class="bg-gray-800 p-3 rounded text-sm">
                                | Dm7 | G7 | Cmaj7 | Cmaj7 |<br>
                                | Em7 | A7 | Dm7 | G7 |<br>
                                | Cmaj7 | C6 | | |
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Tab Management
        function showTab(tabName) {
            const tabs = ['chords', 'scales', 'exercises'];
            tabs.forEach(tab => {
                const section = document.getElementById(tab + 'Section');
                const tabBtn = document.getElementById(tab + 'Tab');
                if (tab === tabName) {
                    section.classList.remove('hidden');
                    tabBtn.classList.add('bg-blue-600', 'text-white');
                    tabBtn.classList.remove('text-gray-400');
                } else {
                    section.classList.add('hidden');
                    tabBtn.classList.remove('bg-blue-600', 'text-white');
                    tabBtn.classList.add('text-gray-400');
                }
            });
        }

        // Chord Data
        const chords = {
            dominant7: {
                name: '7',
                formula: '1 - 3 - 5 - ♭7',
                positions: {
                    C: { frets: ['x', 3, 2, 3, 1, 0], fingers: ['x', 3, 2, 4, 1, 0] },
                    G: { frets: [3, 2, 0, 0, 0, 1], fingers: [3, 2, 0, 0, 0, 1] },
                    A: { frets: ['x', 0, 2, 0, 2, 0], fingers: ['x', 0, 2, 0, 3, 0] },
                    E: { frets: [0, 2, 0, 1, 0, 0], fingers: [0, 2, 0, 1, 0, 0] },
                    D: { frets: ['x', 'x', 0, 2, 1, 2], fingers: ['x', 'x', 0, 3, 1, 2] },
                    B: { frets: ['x', 2, 1, 2, 0, 2], fingers: ['x', 3, 1, 2, 0, 4] },
                    F: { frets: [1, 3, 1, 2, 1, 1], fingers: [1, 3, 1, 2, 1, 1] }
                }
            },
            major7: {
                name: 'maj7',
                formula: '1 - 3 - 5 - 7',
                positions: {
                    C: { frets: ['x', 3, 2, 0, 0, 0], fingers: ['x', 3, 2, 0, 0, 0] },
                    G: { frets: [3, 2, 0, 0, 0, 2], fingers: [3, 2, 0, 0, 0, 1] },
                    A: { frets: ['x', 0, 2, 1, 2, 0], fingers: ['x', 0, 3, 1, 2, 0] },
                    E: { frets: [0, 2, 1, 1, 0, 0], fingers: [0, 3, 1, 2, 0, 0] },
                    D: { frets: ['x', 'x', 0, 2, 2, 2], fingers: ['x', 'x', 0, 1, 2, 3] },
                    B: { frets: ['x', 2, 4, 3, 4, 2], fingers: ['x', 1, 3, 2, 4, 1] },
                    F: { frets: [1, 3, 2, 2, 1, 1], fingers: [1, 4, 2, 3, 1, 1] }
                }
            },
            minor7: {
                name: 'm7',
                formula: '1 - ♭3 - 5 - ♭7',
                positions: {
                    C: { frets: ['x', 3, 1, 3, 4, 3], fingers: ['x', 2, 1, 3, 4, 3] },
                    G: { frets: [3, 5, 3, 3, 3, 3], fingers: [1, 3, 1, 1, 1, 1] },
                    A: { frets: ['x', 0, 2, 0, 1, 0], fingers: ['x', 0, 3, 0, 1, 0] },
                    E: { frets: [0, 2, 0, 0, 0, 0], fingers: [0, 2, 0, 0, 0, 0] },
                    D: { frets: ['x', 'x', 0, 2, 1, 1], fingers: ['x', 'x', 0, 3, 1, 2] },
                    B: { frets: ['x', 2, 0, 2, 0, 2], fingers: ['x', 2, 0, 3, 0, 4] },
                    F: { frets: [1, 3, 1, 1, 1, 1], fingers: [1, 3, 1, 1, 1, 1] }
                }
            },
            dim7: {
                name: 'dim7',
                formula: '1 - ♭3 - ♭5 - ♭♭7',
                positions: {
                    C: { frets: ['x', 3, 4, 2, 4, 2], fingers: ['x', 2, 3, 1, 4, 1] },
                    G: { frets: [3, 4, 5, 3, 5, 3], fingers: [1, 2, 3, 1, 4, 1] },
                    A: { frets: ['x', 0, 1, 2, 1, 2], fingers: ['x', 0, 1, 3, 2, 4] },
                    E: { frets: [0, 1, 2, 0, 2, 0], fingers: [0, 1, 3, 0, 4, 0] },
                    D: { frets: ['x', 'x', 0, 1, 0, 1], fingers: ['x', 'x', 0, 1, 0, 2] },
                    B: { frets: ['x', 2, 3, 1, 3, 1], fingers: ['x', 2, 3, 1, 4, 1] },
                    F: { frets: [1, 2, 0, 1, 0, 1], fingers: [1, 4, 0, 2, 0, 3] }
                }
            },
            blues: {
                name: '7#9',
                formula: '1 - 3 - 5 - ♭7 - #9',
                positions: {
                    C: { frets: ['x', 3, 2, 3, 4, 3], fingers: ['x', 2, 1, 3, 4, 3] },
                    G: { frets: [3, 2, 3, 3, 3, 3], fingers: [2, 1, 3, 3, 3, 3] },
                    A: { frets: ['x', 0, 2, 0, 2, 3], fingers: ['x', 0, 2, 0, 3, 4] },
                    E: { frets: [0, 2, 0, 1, 3, 0], fingers: [0, 2, 0, 1, 4, 0] },
                    D: { frets: ['x', 5, 4, 5, 5, 5], fingers: ['x', 2, 1, 3, 4, 4] },
                    B: { frets: ['x', 2, 1, 2, 3, 2], fingers: ['x', 2, 1, 3, 4, 3] },
                    F: { frets: [1, 3, 1, 2, 4, 1], fingers: [1, 3, 1, 2, 4, 1] }
                }
            }
        };

        // Scale Data
        const scales = {
            bluesPentatonic: {
                name: 'Blues Pentatonic',
                formula: '1 - ♭3 - 4 - ♭5 - 5 - ♭7',
                pattern: [
                    [1, 0, 0, 1, 0],
                    [1, 0, 0, 1, 0],
                    [1, 0, 1, 0, 0],
                    [1, 0, 1, 0, 0],
                    [1, 0, 0, 1, 0],
                    [1, 0, 0, 1, 0]
                ]
            },
            minorPentatonic: {
                name: 'Minor Pentatonic',
                formula: '1 - ♭3 - 4 - 5 - ♭7',
                pattern: [
                    [1, 0, 0, 1, 0],
                    [1, 0, 0, 1, 0],
                    [1, 0, 1, 0, 0],
                    [1, 0, 1, 0, 0],
                    [1, 0, 0, 1, 0],
                    [1, 0, 0, 1, 0]
                ]
            },
            majorPentatonic: {
                name: 'Major Pentatonic',
                formula: '1 - 2 - 3 - 5 - 6',
                pattern: [
                    [1, 0, 1, 0, 1],
                    [1, 0, 1, 0, 1],
                    [1, 1, 0, 1, 0],
                    [1, 1, 0, 1, 0],
                    [1, 0, 1, 0, 1],
                    [1, 0, 1, 0, 1]
                ]
            },
            dorian: {
                name: 'Dorian Mode',
                formula: '1 - 2 - ♭3 - 4 - 5 - 6 - ♭7',
                pattern: [
                    [1, 0, 1, 1, 0],
                    [1, 0, 1, 1, 0],
                    [1, 1, 0, 1, 0],
                    [1, 1, 0, 1, 0],
                    [1, 0, 1, 1, 0],
                    [1, 0, 1, 1, 0]
                ]
            },
            mixolydian: {
                name: 'Mixolydian Mode',
                formula: '1 - 2 - 3 - 4 - 5 - 6 - ♭7',
                pattern: [
                    [1, 0, 1, 0, 1],
                    [1, 1, 0, 1, 0],
                    [1, 1, 0, 1, 0],
                    [1, 0, 1, 1, 0],
                    [1, 0, 1, 0, 1],
                    [1, 0, 1, 0, 1]
                ]
            },
            bebop: {
                name: 'Bebop Scale',
                formula: '1 - 2 - 3 - 4 - 5 - 6 - ♭7 - 7',
                pattern: [
                    [1, 1, 1, 0, 1],
                    [1, 1, 0, 1, 1],
                    [1, 1, 0, 1, 0],
                    [1, 0, 1, 1, 1],
                    [1, 0, 1, 1, 1],
                    [1, 1, 1, 0, 1]
                ]
            }
        };

        let currentChordType = 'dominant7';
        let currentScale = 'bluesPentatonic';
        let currentPosition = 1;

        // Initialize chord diagram
        function initializeChordDiagram() {
            updateChord();
        }

        function showChordType(type) {
            currentChordType = type;
            // Update button styles
            document.querySelectorAll('.chord-type-btn').forEach(btn => {
                btn.classList.remove('bg-blue-600');
                btn.classList.add('bg-gray-700');
            });
            event.target.classList.remove('bg-gray-700');
            event.target.classList.add('bg-blue-600');
            updateChord();
        }

        function updateChord() {
            const rootNote = document.getElementById('rootNote').value;
            const chord = chords[currentChordType];
            const position = chord.positions[rootNote];
            
            // Update chord name and formula
            document.getElementById('chordName').textContent = rootNote + chord.name;
            document.getElementById('chordFormula').textContent = chord.formula;
            
            // Create chord diagram
            createChordDiagram(position);
        }

        function createChordDiagram(position) {
            const diagram = document.getElementById('chordDiagram');
            let html = '<div class="grid grid-cols-6 gap-2">';
            
            // Add string labels
            const strings = ['E', 'A', 'D', 'G', 'B', 'E'];
            for (let i = 0; i < 6; i++) {
                html += `<div class="text-center text-xs text-gray-500">${strings[i]}</div>`;
            }
            
            // Create fretboard
            for (let fret = 0; fret <= 5; fret++) {
                for (let string = 0; string < 6; string++) {
                    const fretValue = position.frets[string];
                    const isPressed = fretValue === fret && fretValue !== 'x';
                    const isOpen = fretValue === 0 && fret === 0;
                    const isMuted = fretValue === 'x' && fret === 0;
                    
                    let cellClass = 'h-12 border-r-2 border-gray-600 relative';
                    if (fret === 0) cellClass += ' border-t-4 border-t-gray-400';
                    else cellClass += ' border-t border-gray-700';
                    
                    html += `<div class="${cellClass}">`;
                    
                    if (isPressed && fret > 0) {
                        html += `<div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-xs font-bold">${position.fingers[string]}</div>`;
                    } else if (isOpen) {
                        html += `<div class="absolute -top-3 left-1/2 transform -translate-x-1/2 w-6 h-6 border-2 border-gray-400 rounded-full"></div>`;
                    } else if (isMuted) {
                        html += `<div class="absolute -top-3 left-1/2 transform -translate-x-1/2 text-gray-400 text-xl">×</div>`;
                    }
                    
                    // Add fret markers
                    if (string === 3 && (fret === 3 || fret === 5)) {
                        html += `<div class="absolute bottom-0 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-gray-600 rounded-full"></div>`;
                    }
                    
                    html += '</div>';
                }
            }
            
            html += '</div>';
            
            // Add fret numbers
            html += '<div class="grid grid-cols-6 gap-2 mt-2">';
            html += '<div></div>'; // Empty space for string column
            for (let fret = 1; fret <= 5; fret++) {
                html += `<div class="text-center text-xs text-gray-500">${fret}</div>`;
            }
            html += '</div>';
            
            diagram.innerHTML = html;
        }

        // Scale functions
        function showScale(scaleName) {
            currentScale = scaleName;
            // Update button styles
            document.querySelectorAll('.scale-btn').forEach(btn => {
                btn.classList.remove('bg-blue-600');
                btn.classList.add('bg-gray-700');
            });
            event.target.classList.remove('bg-gray-700');
            event.target.classList.add('bg-blue-600');
            updateScale();
        }

        function showPosition(pos) {
            currentPosition = pos;
            // Update button styles
            document.querySelectorAll('.pos-btn').forEach(btn => {
                btn.classList.remove('bg-blue-600');
                btn.classList.add('bg-gray-700');
            });
            event.target.classList.remove('bg-gray-700');
            event.target.classList.add('bg-blue-600');
            updateScale();
        }

        function updateScale() {
            const scale = scales[currentScale];
            document.getElementById('scaleName').textContent = scale.name + ' - Position ' + currentPosition;
            document.getElementById('scaleFormula').textContent = scale.formula;
            createScalePattern(scale, currentPosition);
        }

        function createScalePattern(scale, position) {
            const pattern = document.getElementById('scalePattern');
            let html = '<div class="grid grid-cols-13 gap-1">';
            
            // Adjust pattern based on position (simplified for demo)
            const startFret = (position - 1) * 3;
            
            // String labels
            html += '<div></div>'; // Empty corner
            for (let fret = startFret; fret < startFret + 12; fret++) {
                html += `<div class="text-xs text-gray-500 text-center">${fret || 'O'}</div>`;
            }
            
            const strings = ['E', 'B', 'G', 'D', 'A', 'E'];
            for (let string = 0; string < 6; string++) {
                html += `<div class="text-xs text-gray-500">${strings[string]}</div>`;
                for (let fret = 0; fret < 12; fret++) {
                    const hasNote = Math.random() > 0.6; // Simplified - in real app, use actual scale patterns
                    const isRoot = hasNote && Math.random() > 0.8;
                    
                    let cellClass = 'h-8 border border-gray-700 relative';
                    if (hasNote) {
                        if (isRoot) {
                            html += `<div class="${cellClass}">
                                <div class="absolute inset-0 flex items-center justify-center">
                                    <div class="w-6 h-6 root-note rounded-full text-xs text-white flex items-center justify-center font-bold">R</div>
                                </div>
                            </div>`;
                        } else {
                            html += `<div class="${cellClass}">
                                <div class="absolute inset-0 flex items-center justify-center">
                                    <div class="w-5 h-5 scale-pattern rounded-full"></div>
                                </div>
                            </div>`;
                        }
                    } else {
                        html += `<div class="${cellClass}"></div>`;
                    }
                }
            }
            
            html += '</div>';
            pattern.innerHTML = html;
        }

        // Initialize on load
        document.addEventListener('DOMContentLoaded', function() {
            initializeChordDiagram();
            updateScale();
        });
    </script>
</body>
</html>